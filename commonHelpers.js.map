{"version":3,"file":"commonHelpers.js","sources":["../src/img/x-octagon.svg","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__655c9695__\"","// 1. Створюємо функцію для HTTP-запитів, яка створює запит на сервер\n// 2. Створюємо константи зі всіма параметрами та ключем (буде export)\n\nconst KEY = \"42641678-dfe8c371983b31bc21d252361\";\nconst BASE_URI = \"https://pixabay.com/api/\";\nconst QUERY = \"forest+mountains\"\nconst LINK = `${BASE_URI}?key=${KEY}&q=${QUERY}`;\n\n\n\n\n\n\n\n\nimport iziToast from \"izitoast\";\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport octagon from \"../img/x-octagon.svg\"\n\nimport { gallery } from '../main';\n\nconst pick = {\n  captionsData: 'alt',\n  captionDelay: 250\n};\n\nconst lightbox = new SimpleLightbox('.image-gallery a', pick);\n\nexport function requestToServer(link) {\n  return fetch(link)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Image error with status ${response.statusText}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          titleColor: '#fff',\n          titleSize: '16px',\n          titleLineHeight: '1.5',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          messageLineHeight: '1.5',\n          backgroundColor: '#ef4040',\n          theme: 'dark',\n          iconUrl: octagon,\n          iconColor: '#fafafb',\n          closeOnEscape: true,\n          maxWidth: '432px',\n          position: 'topRight',\n        });\n        gallery.innerHTML = '';\n      }\n      createMarkup(data);\n      return lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n};","\n\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { requestToServer } from \"./js/pixabay-api\"; // import { getImages } from './js/render-functions';\n\nimport { createMarkup } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form');\nconst input = document.querySelector('input[name=message]');\nexport const gallery = document.querySelector('.image-gallery');\n\nconst request = {\n  key: '42641678-dfe8c371983b31bc21d252361',\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nlet url = 'https://pixabay.com/api/?';\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = '<span class=\"loader\"></span>';\n  request.q = input.value;\n  url += new URLSearchParams(request);\n  input.value = '';\n  requestToServer(url);\n});\n"],"names":["octagon","pick","lightbox","requestToServer","link","response","data","iziToast","gallery","error","form","input","request","url","event"],"mappings":"svBAAA,MAAeA,EAAA,+CCuBTC,EAAO,CACX,aAAc,MACd,aAAc,GAChB,EAEMC,EAAW,IAAI,eAAe,mBAAoBD,CAAI,EAErD,SAASE,EAAgBC,EAAM,CACpC,OAAO,MAAMA,CAAI,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,2BAA2BA,EAAS,UAAU,EAAE,EAElE,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,IACAA,EAAK,KAAK,SAAW,IACvBC,EAAS,MAAM,CACb,MAAO,QACP,WAAY,OACZ,UAAW,OACX,gBAAiB,MACjB,QAAS,2EACT,aAAc,UACd,YAAa,OACb,kBAAmB,MACnB,gBAAiB,UACjB,MAAO,OACP,QAASP,EACT,UAAW,UACX,cAAe,GACf,SAAU,QACV,SAAU,UACpB,CAAS,EACDQ,EAAQ,UAAY,IAEtB,aAAaF,CAAI,EACVJ,EAAS,UACjB,EACA,MAAMO,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,CCvDA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,qBAAqB,EAC7CH,EAAU,SAAS,cAAc,gBAAgB,EAExDI,EAAU,CACd,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEA,IAAIC,EAAM,4BAEVH,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpBN,EAAQ,UAAY,+BACpBI,EAAQ,EAAID,EAAM,MAClBE,GAAO,IAAI,gBAAgBD,CAAO,EAClCD,EAAM,MAAQ,GACdR,EAAgBU,CAAG,CACrB,CAAC"}